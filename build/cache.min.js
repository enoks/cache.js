/**
 * cache v1.0.0
 * https://github.com/enoks/cache.js
 *
 * Copyright 2017, Stefan KÃ¤sche
 * https://github.com/enoks
 *
 * Licensed under GNU GENERAL PUBLIC LICENSE Version 3
 * https://github.com/enoks/cache.js/blob/master/LICENSE
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define("cache",[],function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:window.cache=t}(0,function(undefined){"use strict";function _parseDateTo(date,to){if(date=date.trim().replace(/\s+/," "),/^-?\d+[wdhms]( -?\d+[wdhms])*$/.test(date)?(date=date.replace("w","*1000*60*60*24*7").replace("d","*1000*60*60*24").replace("h","*1000*60*60").replace("ms","").replace("m","*1000*60").replace("s","*1000"),date=new Date(Date.now()+eval(date.replace(/\s+/,"+")))):date=new Date(date),isNaN(date.getTime()))return console.warn('"'+arguments[0]+'" is an invalid date :/'),null;switch((to||"utc").toLowerCase()){case"time":case"timestamp":return date.getTime();default:case"utc":return date.toUTCString()}}var storages={},cache=function(){switch(arguments[0]=arguments[0]||"localStorage"){case"addStorage":return arguments[1]?storages[arguments[1]]?console.error('Storage "'+arguments[1]+'" already exists.'):(storages[arguments[1]]=arguments[2]||{},cache(arguments[1])):console.error("No storage name!? This can not work.");case"removeStorage":return delete storages[arguments[1]];default:storages[arguments[0]]||console.error('No "'+arguments[0]+'" storage/cache available. Please choose "'+Object.keys(storages).join('", "')+'".');var e=storages[arguments[0]]||{};return"[object Object]"!=Object.prototype.toString.call(e)&&(e={}),e.set||(e.set=function(){return this}),e.get||(e.get=function(e,t){return void 0===t?null:t}),e.remove||(e.remove=function(){return this}),e}};return cache("addStorage","localStorage",{set:function(e,t,r){return this.remove(e),void 0===r?sessionStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,JSON.stringify({data:t,expires:_parseDateTo(r)})),this},get:function(e,t){var r,o=sessionStorage.getItem(e);if(null!==o)try{r=JSON.parse(o),o=r}catch(e){}else{o=localStorage.getItem(e);try{r=JSON.parse(o),r.expires&&Date.now()>Date.parse(r.expires)?(this.remove(e),o=null):o=r.data||null}catch(e){}}return null!=o?o:void 0!==t?t:null},remove:function(e){return sessionStorage.removeItem(e),localStorage.removeItem(e),this}}),cache("addStorage","cookie",{set:function(e,t,r){var o=[e+"="+JSON.stringify(t),"path=/"];return void 0!==r&&(r=_parseDateTo(r))&&o.push("expires="+r),document.cookie=o.join(";"),this},get:function(e,t){var r;return decodeURIComponent(document.cookie).split(";").forEach(function(t){void 0===r&&0==t.trim().indexOf(e+"=")&&(r=t.replace(new RegExp("^\\s*"+e+"="),""))}),void 0!==r?JSON.parse(r):void 0!==t?t:null},remove:function(e){return this.set(e,null,"-1s"),this}}),cache}());