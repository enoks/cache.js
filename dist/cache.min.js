/**
 * cache v1.3.0
 * https://github.com/enoks/cache.js
 *
 * Copyright 2019, Stefan KÃ¤sche
 * https://github.com/enoks
 *
 * @license MIT
 * https://github.com/enoks/peekaboo.js/blob/master/LICENSE
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define("cache",[],function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:window.cache=t}(0,function(undefined){"use strict";var storages={},cache=function(){switch(arguments[0]=arguments[0]||"localStorage"){case"addStorage":return arguments[1]?storages[arguments[1]]?console.error('Storage "'+arguments[1]+'" already exists.'):(storages[arguments[1]]=arguments[2]||{},cache(arguments[1])):console.error("No storage name!? This can not work.");case"removeStorage":return delete storages[arguments[1]];default:storages[arguments[0]]||console.error('No "'+arguments[0]+'" storage/cache available. Please choose "'+Object.keys(storages).join('", "')+'".');var a=storages[arguments[0]]||{};return"[object Object]"!=Object.prototype.toString.call(a)&&(a={}),a.has||(a.has=function(e){return null!==a.get(e)}),a.is=function(e,t,r){return a.get(e,r)===t},a.set||(a.set=function(){return this}),a.get||(a.get=function(e,t){return void 0===t?null:t}),a.remove||(a.remove=function(){return this}),a}};function _parseDateTo(date,to){if(date=(date+"").replace(/(-?\d+)/g," $1").replace(/\s+/g," ").trim(),/^-?\d+(y|M|w|d|h|m|s|ms)?( -?\d+(y|M|w|d|h|m|s|ms)?)*$/.test(date)){var years=date.match(/-?\d+y/g);date=date.replace(/-?\d+y/g,"");var months=date.match(/-?\d+M/g);date=date.replace(/-?\d+M/g,""),date=date.replace("w","*1000*60*60*24*7").replace("d","*1000*60*60*24").replace("h","*1000*60*60").replace(/ms/g,"").replace("m","*1000*60").replace("s","*1000"),date=new Date(Date.now()+(eval(date.replace(/\s+/,"+"))||0)),(years||[]).forEach(function(e){date.setFullYear(date.getFullYear()+parseInt(e))}),(months||[]).forEach(function(e){date.setMonth(date.getMonth()+parseInt(e))})}else date=new Date(date);if(isNaN(date.getTime()))return console.warn('"'+arguments[0]+'" is an invalid date :/ Please see https://github.com/enoks/cache.js#setter for more information.'),null;switch((to||"utc").toLowerCase()){case"time":case"timestamp":return date.getTime();default:case"utc":return date.toUTCString()}}return cache("addStorage","localStorage",{set:function(e,t,r){return this.remove(e),void 0!==r&&(r=(r+"").trim())?localStorage.setItem(e,JSON.stringify({data:t,expires:_parseDateTo(r)})):sessionStorage.setItem(e,JSON.stringify(t)),this},get:function(e,t){var r,a=sessionStorage.getItem(e);if(null!==a)try{a=r=JSON.parse(a)}catch(e){}else{a=localStorage.getItem(e);try{a=(r=JSON.parse(a)).expires&&Date.now()>Date.parse(r.expires)?(this.remove(e),null):void 0!==r.data?r.data:null}catch(e){}}return null!=a?a:void 0!==t?t:null},remove:function(e){return sessionStorage.removeItem(e),localStorage.removeItem(e),this},has:function(e){return localStorage.hasOwnProperty(e)&&!this.is(e,null)||sessionStorage.hasOwnProperty(e)}}),cache("addStorage","cookie",{set:function(e,t,r){"string"!=typeof(t=t||"")&&(t=JSON.stringify(t));var a=[e+"="+encodeURIComponent(t)];for(var o in["number","string"].indexOf(typeof r)&&(r={expires:r}),void 0!==r.expires&&(r.expires=(r.expires+"").trim())&&(r.expires=_parseDateTo(r.expires),r.expires||delete r.expires),r)r.hasOwnProperty(o)&&a.push(o+"="+r[o]);return document.cookie=a.join(";"),this},get:function(t,e){var r;if(document.cookie.split(";").forEach(function(e){void 0===r&&0==e.trim().indexOf(t+"=")&&(r=decodeURIComponent(e.replace(new RegExp("^\\s*"+t+"="),"")))}),void 0===r)r=void 0!==e?e:null;else try{JSON.parse(r),r=JSON.parse(r)}catch(e){}return r},remove:function(e){return this.set(e,null,"-1s"),this},has:function(e){return new RegExp("(; ?)?"+e+"=").test(document.cookie)}}),cache}());