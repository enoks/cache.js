/**
 * cache v1.1.1
 * https://github.com/enoks/cache.js
 *
 * Copyright 2018, Stefan KÃ¤sche
 * https://github.com/enoks
 *
 * Licensed under MIT
 * https://github.com/enoks/peekaboo.js/blob/master/LICENSE
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define("cache",[],function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:window.cache=t}(0,function(undefined){"use strict";function _parseDateTo(date,to){if(date=(date+"").replace(/(-?\d+)/g," $1").replace(/\s+/g," ").trim(),/^-?\d+(y|M|w|d|h|m|s|ms)?( -?\d+(y|M|w|d|h|m|s|ms)?)*$/.test(date)){var years=date.match(/-?\d+y/g);date=date.replace(/-?\d+y/g,"");var months=date.match(/-?\d+M/g);date=date.replace(/-?\d+M/g,""),date=date.replace("w","*1000*60*60*24*7").replace("d","*1000*60*60*24").replace("h","*1000*60*60").replace(/ms/g,"").replace("m","*1000*60").replace("s","*1000"),date=new Date(Date.now()+(eval(date.replace(/\s+/,"+"))||0)),(years||[]).forEach(function(e){date.setFullYear(date.getFullYear()+parseInt(e))}),(months||[]).forEach(function(e){date.setMonth(date.getMonth()+parseInt(e))})}else date=new Date(date);if(isNaN(date.getTime()))return console.warn('"'+arguments[0]+'" is an invalid date :/ Please see https://github.com/enoks/cache.js#setter for more information.'),null;switch((to||"utc").toLowerCase()){case"time":case"timestamp":return date.getTime();default:case"utc":return date.toUTCString()}}var storages={},cache=function(){switch(arguments[0]=arguments[0]||"localStorage"){case"addStorage":return arguments[1]?storages[arguments[1]]?console.error('Storage "'+arguments[1]+'" already exists.'):(storages[arguments[1]]=arguments[2]||{},cache(arguments[1])):console.error("No storage name!? This can not work.");case"removeStorage":return delete storages[arguments[1]];default:storages[arguments[0]]||console.error('No "'+arguments[0]+'" storage/cache available. Please choose "'+Object.keys(storages).join('", "')+'".');var e=storages[arguments[0]]||{};return"[object Object]"!=Object.prototype.toString.call(e)&&(e={}),e.set||(e.set=function(){return this}),e.get||(e.get=function(e,t){return void 0===t?null:t}),e.remove||(e.remove=function(){return this}),e}};return cache("addStorage","localStorage",{set:function(e,t,a){return this.remove(e),void 0!==a&&(a=(a+"").trim())?localStorage.setItem(e,JSON.stringify({data:t,expires:_parseDateTo(a)})):sessionStorage.setItem(e,JSON.stringify(t)),this},get:function(e,t){var a,r=sessionStorage.getItem(e);if(null!==r)try{a=JSON.parse(r),r=a}catch(e){}else{r=localStorage.getItem(e);try{a=JSON.parse(r),a.expires&&Date.now()>Date.parse(a.expires)?(this.remove(e),r=null):r=a.data||null}catch(e){}}return null!=r?r:void 0!==t?t:null},remove:function(e){return sessionStorage.removeItem(e),localStorage.removeItem(e),this}}),cache("addStorage","cookie",{set:function(e,t,a){"string"!=typeof(t=t||"")&&(t=JSON.stringify(t));var r=[e+"="+t,"path=/"];return void 0!==a&&(a=(a+"").trim())&&(a=_parseDateTo(a))&&r.push("expires="+a),document.cookie=r.join(";"),this},get:function(e,t){var a;if(decodeURIComponent(document.cookie).split(";").forEach(function(t){void 0===a&&0==t.trim().indexOf(e+"=")&&(a=t.replace(new RegExp("^\\s*"+e+"="),""))}),void 0===a)a=void 0!==t?t:null;else try{JSON.parse(a),a=JSON.parse(a)}catch(e){}return a},remove:function(e){return this.set(e,null,"-1s"),this}}),cache}());